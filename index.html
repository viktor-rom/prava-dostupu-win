<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Інтерактивний Конспект: Права Користувачів Windows 10</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Calm Harmony (Warm Neutrals + Subtle Blue Accent) -->
    <!-- Application Structure Plan: A four-section, thematic single-page application. Structure: 1. Основи (The "Who": Users/Groups/PoLP), 2. Рівні Контролю (The "What": Rights vs. Permissions), 3. Управління (The "How": Tools & Group Power Chart), 4. Як це Працює (The "Why": SID & Effective Rights Calculator). This structure is chosen for a logical learning flow, guiding a student from basic definitions to complex interactions, which is more intuitive for learning than simply mirroring the four-lesson report. -->
    <!-- Visualization & Content Choices: 
      1. Report Info: Built-in groups power levels (Lesson 1/3). Goal: Compare. Viz: Horizontal Bar Chart. Interaction: Tooltip on hover. Justification: Instantly visualizes the PoLP concept and group hierarchy. Library: Chart.js (Canvas).
      2. Report Info: Rights vs. Permissions (Lesson 2/4). Goal: Organize/Compare. Viz: Two-column HTML/CSS layout. Interaction: N/A (static comparison). Justification: Clearly separates two easily confused core concepts. Library: Tailwind CSS.
      3. Report Info: Effective Rights Calculation (Lesson 4). Goal: Explore/Inform. Viz: Interactive Calculator (HTML/JS). Interaction: User selects group memberships and direct permissions; JS calculates the outcome. Justification: Makes the most complex rule (Deny > Allow) tangible and interactive, which is far more effective than static text. Library: Vanilla JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 300px;
            max-height: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        @media (min-width: 768px) {
            .chart-container { height: 350px; }
        }
        .nav-link {
            transition: all 0.3s;
            border-bottom: 2px solid transparent;
            padding-bottom: 4px;
        }
        .nav-link.active {
            border-bottom-color: #2563EB;
            color: #1E3A8A;
            font-weight: 500;
        }
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="bg-neutral-50 text-neutral-800">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto max-w-5xl px-4 py-4 flex justify-center space-x-4 md:space-x-8">
            <a href="#basics" class="nav-link text-neutral-600 hover:text-blue-600">Основи</a>
            <a href="#control" class="nav-link text-neutral-600 hover:text-blue-600">Рівні Контролю</a>
            <a href="#management" class="nav-link text-neutral-600 hover:text-blue-600">Управління</a>
            <a href="#advanced" class="nav-link text-neutral-600 hover:text-blue-600">Як це Працює</a>
        </nav>
    </header>

    <main class="container mx-auto max-w-5xl p-4 md:p-8">

        <section id="basics" class="mb-16 scroll-mt-24">
            <h1 class="text-3xl font-bold text-neutral-900 mb-4">Основи: Користувачі та Групи</h1>
            <p class="text-lg text-neutral-700 mb-6">
                Ласкаво просимо до інтерактивного конспекту! Цей розділ познайомить вас з базовими "будівельними блоками" безпеки Windows: обліковими записами та групами. Розуміння того, "хто" є хто в системі, є першим кроком до налаштування безпеки.
            </p>

            <div class="bg-white p-6 rounded-lg shadow-sm border border-neutral-200 mb-8">
                <h2 class="text-2xl font-bold mb-3">Що таке Обліковий Запис?</h2>
                <p class="mb-4">Обліковий запис користувача (User Account) – це унікальний набір інформації, який дозволяє Windows ідентифікувати вас, застосувати ваші налаштування (наприклад, шпалери робочого столу) та визначити, що вам дозволено робити.</p>
                <h2 class="text-2xl font-bold mb-3">Що таке Група?</h2>
                <p>Група (Group) – це просто "контейнер" для облікових записів. Замість того, щоб давати права 100 учням окремо, адміністратор дає права одній групі "Учні 10-А", і всі учасники групи автоматично їх отримують. Це значно спрощує управління.</p>
            </div>

            <div class="bg-blue-50 border-l-4 border-blue-500 p-6 rounded-r-lg shadow-sm">
                <h2 class="text-2xl font-bold text-blue-900 mb-3">Золоте Правило: Принцип Найменших Привілеїв (PoLP)</h2>
                <p class="text-blue-800 text-lg">
                    Це найважливіший принцип кібербезпеки: <strong>Кожен користувач повинен мати лише ті права, які абсолютно необхідні йому для роботи, і не більше.</strong>
                </p>
                <p class="text-blue-800 mt-2">
                    Саме тому ви не повинні працювати з правами "Адміністратора" щодня. Якщо вірус вразить обліковий запис "Користувача", він завдасть набагато менше шкоди, ніж якби він вразив "Адміністратора".
                </p>
            </div>
        </section>

        <section id="control" class="mb-16 scroll-mt-24">
            <h2 class="text-3xl font-bold text-neutral-900 mb-4">Рівні Контролю: Права vs. Дозволи</h2>
            <p class="text-lg text-neutral-700 mb-8">
                Це найважливіший розділ для розуміння. В Windows існує два різних типи "дозволів". Їх часто плутають, але вони контролюють абсолютно різні речі. Цей розділ допоможе вам розібратися, у чому різниця.
            </p>

            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-sm border border-neutral-200">
                    <h3 class="text-2xl font-bold mb-3 text-blue-700">1. Права Користувача (User Rights)</h3>
                    <p class="mb-4"><strong>Що це:</strong> Дозвіл на виконання <strong>дій на рівні операційної системи.</strong></p>
                    <p class="mb-4"><strong>Де керувати:</strong> Локальна Політика Безпеки (<code>secpol.msc</code>)</p>
                    <p class="font-medium mb-2">Ключові приклади:</p>
                    <ul class="list-disc list-inside space-y-1">
                        <li>Вхід до системи локально</li>
                        <li>Завершення роботи системи</li>
                        <li>Встановлення системного часу</li>
                        <li>Резервне копіювання файлів</li>
                    </ul>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-neutral-200">
                    <h3 class="text-2xl font-bold mb-3 text-green-700">2. Дозволи NTFS (Permissions)</h3>
                    <p class="mb-4"><strong>Що це:</strong> Дозвіл на виконання <strong>дій з об'єктами</strong> (файлами, папками).</p>
                    <p class="mb-4"><strong>Де керувати:</strong> Властивості файлу/папки -> вкладка "Безпека"</p>
                    <p class="font-medium mb-2">Ключові приклади:</p>
                    <ul class="list-disc list-inside space-y-1">
                        <li>Читання (Read)</li>
                        <li>Запис (Write)</li>
                        <li>Зміна (Modify)</li>
                        <li>Повний доступ (Full Control)</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="management" class="mb-16 scroll-mt-24">
            <h2 class="text-3xl font-bold text-neutral-900 mb-4">Практичне Управління</h2>
            <p class="text-lg text-neutral-700 mb-8">
                Тепер, коли ви знаєте теорію, подивімося, як це працює на практиці. Для управління користувачами та групами використовується спеціальна консоль. Також важливо розуміти, які повноваження мають стандартні групи Windows.
            </p>

            <div class="bg-white p-6 rounded-lg shadow-sm border border-neutral-200 mb-8">
                <h3 class="text-2xl font-bold mb-3">Консоль <code>lusrmgr.msc</code></h3>
                <p class="mb-4">Це ваш основний інструмент. Щоб його запустити, натисніть <strong>Win + R</strong>, введіть <code>lusrmgr.msc</code> і натисніть Enter. Тут ви можете:</p>
                <ul class="list-disc list-inside space-y-2">
                    <li><strong>Створювати нових користувачів</strong> (наприклад, "Uchen10A").</li>
                    <li><strong>Створювати нові групи</strong> (наприклад, "Vchyteli").</li>
                    <li><strong>Додавати користувачів до груп</strong> (наприклад, додати "Uchen10A" до групи "Users").</li>
                    <li>Вимикати або видаляти облікові записи.</li>
                </ul>
            </div>
            
            <div class="bg-white p-6 rounded-lg shadow-sm border border-neutral-200">
                <h3 class="text-2xl font-bold mb-4 text-center">Рівні Повноважень Вбудованих Груп</h3>
                <p class="text-center text-neutral-600 mb-6">Ця діаграма показує відносний рівень "влади" у стандартних групах Windows. Вона наочно демонструє Принцип Найменших Привілеїв: група "Users" має значно менше небезпечних прав, ніж "Administrators".</p>
                <div class="chart-container">
                    <canvas id="groupPowerChart"></canvas>
                </div>
            </div>
        </section>

        <section id="advanced" class="scroll-mt-24">
            <h2 class="text-3xl font-bold text-neutral-900 mb-4">Як це Працює? (SID та Ефективні Права)</h2>
            <p class="text-lg text-neutral-700 mb-8">
                Наостанок, давайте зазирнемо "під капот". Windows не використовує імена (як "Petro") для безпеки. Вона використовує унікальні коди (SID). Розуміння цього допоможе вам розібратися, як система приймає рішення про доступ до файлів.
            </p>

            <div class="bg-white p-6 rounded-lg shadow-sm border border-neutral-200 mb-8">
                <h3 class="text-2xl font-bold mb-3">SID та Access Token</h3>
                <ul class="list-disc list-inside space-y-2">
                    <li><strong>SID (Ідентифікатор Безпеки):</strong> Уявіть, що це ваш номер паспорта в системі. Коли ви створюєте користувача "Petro", він отримує унікальний SID (наприклад, `S-1-5...-1001`). Якщо ви видалите "Petro" і створите нового "Petro", він отримає новий SID. Для Windows це буде зовсім інша людина.</li>
                    <li><strong>Access Token (Токен Доступу):</strong> Коли ви входите в систему, Windows видає вам "квиток" (Token). На цьому квитку записаний ваш SID та SID усіх груп, до яких ви належите. Коли ви намагаєтеся відкрити файл, ви показуєте цей квиток.</li>
                </ul>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-lg border border-neutral-200">
                <h3 class="text-2xl font-bold mb-4 text-center">Симулятор Ефективних Прав</h3>
                <p class="text-center text-neutral-600 mb-6">
                    Це найскладніша частина. Як Windows вирішує, чи можна вам відкрити файл, якщо у вас є кілька суперечливих дозволів? Спробуйте цей симулятор, щоб зрозуміти "золоте правило": <strong>Явна ЗАБОРОНА (Deny) завжди перемагає будь-який ДОЗВІЛ (Allow)</strong>.
                </p>

                <div class="max-w-md mx-auto">
                    <div class="mb-4">
                        <label class="font-medium">Членство у групах для "Petro":</label>
                        <div class="flex items-center mt-2">
                            <input type="checkbox" id="groupUsers" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" checked>
                            <label for="groupUsers" class="ml-2 block text-sm text-neutral-900">Група "Users" (Дає дозвіл <strong>Read</strong>)</label>
                        </div>
                        <div class="flex items-center mt-2">
                            <input type="checkbox" id="groupAdmins" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                            <label for="groupAdmins" class="ml-2 block text-sm text-neutral-900">Група "Admins" (Дає дозвіл <strong>Full Control</strong>)</label>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="directPermission" class="block text-sm font-medium text-neutral-900">Прямий дозвіл для "Petro" на файлі:</label>
                        <select id="directPermission" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                            <option value="none">(Немає)</option>
                            <option value="deny_modify">ЗАБОРОНИТИ (Deny) Modify</option>
                            <option value="allow_modify">ДОЗВОЛИТИ (Allow) Modify</option>
                        </select>
                    </div>

                    <button id="calculateRights" class="w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">Розрахувати Ефективні Права</button>

                    <div id="result" class="mt-6 p-4 rounded-lg bg-neutral-100 hidden">
                        <h4 class="font-bold text-lg mb-2">Ефективні Права для "Petro":</h4>
                        <p id="resultText" class="text-lg"></p>
                        <p id="resultReason" class="text-sm text-neutral-600 mt-2"></p>
                    </div>
                </div>
            </div>

        </section>

    </main>
    
    <footer class="text-center py-8 mt-16 border-t border-neutral-200">
        <p class="text-neutral-500">Інтерактивний конспект на основі матеріалів для 10-го класу.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const ctx = document.getElementById('groupPowerChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Адміністратори (Administrators)', 'Оператори Настр. Мережі (Network Ops)', 'Користувачі (Users)', 'Гості (Guests)'],
                    datasets: [{
                        label: 'Рівень Повноважень',
                        data: [100, 60, 20, 5],
                        backgroundColor: [
                            'rgba(220, 38, 38, 0.6)',
                            'rgba(234, 179, 8, 0.6)',
                            'rgba(37, 99, 235, 0.6)',
                            'rgba(107, 114, 128, 0.6)'
                        ],
                        borderColor: [
                            'rgba(220, 38, 38, 1)',
                            'rgba(234, 179, 8, 1)',
                            'rgba(37, 99, 235, 1)',
                            'rgba(107, 114, 128, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.x !== null) {
                                        label += context.parsed.x + '%';
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + '%'
                                }
                            }
                        }
                    }
                }
            });

            const calculateBtn = document.getElementById('calculateRights');
            const resultDiv = document.getElementById('result');
            const resultText = document.getElementById('resultText');
            const resultReason = document.getElementById('resultReason');
            
            calculateBtn.addEventListener('click', () => {
                const isUser = document.getElementById('groupUsers').checked;
                const isAdmin = document.getElementById('groupAdmins').checked;
                const directPermission = document.getElementById('directPermission').value;

                let allow = new Set();
                let deny = new Set();
                let reason = '';

                if (isUser) {
                    allow.add('Read');
                }
                if (isAdmin) {
                    allow.add('Read');
                    allow.add('Modify');
                    allow.add('Full Control');
                }

                if (directPermission === 'allow_modify') {
                    allow.add('Modify');
                } else if (directPermission === 'deny_modify') {
                    deny.add('Modify');
                }
                
                let canRead = allow.has('Read') || allow.has('Full Control');
                let canModify = allow.has('Modify') || allow.has('Full Control');

                if (deny.has('Modify')) {
                    canModify = false;
                    reason = 'Дозвіл "Modify" був явно заборонений (Deny). Заборона завжди має вищий пріоритет, навіть якщо група "Admins" надає "Full Control".';
                } else if (directPermission === 'none' && !isAdmin && isUser) {
                     reason = 'Petro має право "Read" від групи "Users", але не має права "Modify".';
                } else if (isAdmin) {
                    reason = 'Petro має "Full Control" від групи "Admins", що включає "Read" та "Modify".';
                } else if (directPermission === 'allow_modify') {
                    reason = 'Petro отримав "Read" від групи "Users" та "Modify" напряму.';
                }

                const readResult = canRead ? '<span class="text-green-600 font-bold">ДОЗВОЛЕНО</span>' : '<span class="text-red-600 font-bold">ЗАБОРОНЕНО</span>';
                const modifyResult = canModify ? '<span class="text-green-600 font-bold">ДОЗВОЛЕНО</span>' : '<span class="text-red-600 font-bold">ЗАБОРОНЕНО</span>';

                resultText.innerHTML = `<strong>Читання (Read):</strong> ${readResult} <br> <strong>Зміна (Modify):</strong> ${modifyResult}`;
                resultReason.textContent = reason;
                resultDiv.classList.remove('hidden');
            });

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section');

            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.3
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${entry.target.id}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });
        });
    </script>
</body>
</html>
